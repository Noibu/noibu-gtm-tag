___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Noibu",
  "categories": ["SESSION_RECORDING"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/jpeg;base64,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cfChsdHB/9oACAEBAAE/Ifbgrqr5UM2Yf1UsKqqqqqqtqzB/Hhta4pghSroV+BSAq0pxG5gkCfDA6rQykWc+fFWlzyfS/o7pJ70pIkJgfRtE2Fr9DziyOJbtTaX/AFgeoMBu/PX+B0wV8jwVEkwMWJcG8P038dAi7pi9QLDhWV9znFUvPngHLU3t26QI7nSAaG/tjnRDDjZAZYt3R5cmzx1AgGtDT0DQsJ89F/uKp0kTdTL+8Ul1R2q9f+YLfm9S4Rc723KgABYMUpGbHl9QwLDCkIyVnOZDZpxCUwBRgPKNuMUD3/uH8KZsrfBAIKJrtNFZv7pPDjQt9BH2nVhUqVKlSpUqVKCpMmdfMd325//aAAwDAQACAAMAAAAQ88888888888888888888888888888888888888888887+2++22888888akDDDB8888885mb0+++888888rz7+yme888888BAAH90888888mO++/L888888888888888888888888888888888888888888888888888888888//EACURAAECBAUFAQAAAAAAAAAAAAERQQAQIDEhYXGx8DBQUYHB4f/aAAgBAwEBPxDtYeQRhlj1QBTGhz7+ZwcjfGXkcagBUVkC2N9HgDwwMBAl3rjWFzwMQ3rGs/CeSgeQBHsBzKL1CCtqAcI20Y+ZBYGVbQ+n3slYIWkKhUh7a7wDwmp71//EACcRAQABAwMDBAIDAAAAAAAAAAEAESExQVFxIGGBUJGh8RCxwdHh/9oACAECAQE/EPS8qaAqhdtloHK06gwwww9RcCtCpXKT566jGY/Vb7uaPkz3Gc5z/G+shQbrB/fasqakq7rd6tevPY1hEFiI+Js8f5mBdZTvKd44v/LqfGDzv1i9ZcaPfPtOE4QCLKco7m+xzv4iq1eoEv0pg8rcVdIAUCcZxgL2qWdnRhSURE7krGtix1ja81Y2+gOwfKz7vPu8+7z7vElUKFoxhPFng9a//8QAJxABAAIBAwQCAQUBAAAAAAAAAQARcSExYTBBUYEQkaEgcLHB0eH/2gAIAQEAAT8Q/bhfrgC3UbHo9vgtpbS2ltLaW0tpbS2lsRG2Laukg1NncK106ielPUAWrAal7Gymn22+4NwJr2X+n8/DCY/Jb5O6tdhUX4DdewMTtFpi2rZb9V1Q1SBLUHU9tMX8WWGYA7e9peUFI9mYR4Q4TCYTGYQFaQ7nb42Pnh1Q1rH2Bf3H6Cl2w9DwV7uZzOKhC2Dt3ff6Bh8lGFe1LV+AX1C9jUVYG7ytrnqhppmwju/y/wCplMplN+omnD2isJqfqEWiolAXU5/YHnqi8v3qW0PlA/M8Maitdjg2mUymUyjgYfiYTD8TD8QNgUpo4ftsZh1WroYAcAHVKi4Q1B9qtZXxMpl8MplGJdRuHUIbxxMJTxC7VawtMNQ0F4d1cvHV1acJqF2cAriFTnHaq1XLLeZlM2POZS3mBfui34e5hMJY1Eq0q22RrxcMgBQGwdVj93G/ovOpR4mUzmUymczmcaYMh2SJMfXO5/fuJNKAtV2IZJp7de2AozfnqkqCMTXKE4O/lIjIU2rusy+GUymUymT8DsIitp3H9Q9VgMadlyG766xp4XOlqEbTa348HSTp06dOnLp04wQk8S133JHvFAF9ftz/AP/Z"
  },
  "description": "Deploy the Noibu collection script",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const logToConsole = require('logToConsole');
const injectScript = require('injectScript');
const queryPermission = require('queryPermission');

// If the script loaded successfully, log a message and signal success
const onSuccess = () => {
  logToConsole('Noibu: Script loaded successfully.');
  data.gtmOnSuccess();
};

// If the script fails to load, log a message and signal failure
const onFailure = () => {
  logToConsole('Noibu: Script load failed.');
  data.gtmOnFailure();
};

// inject the script with the onSuccess and onFailure methods as callbacks.
if (queryPermission('inject_script', 'https://cdn.noibu.com/collect-core.js')) {
  injectScript('https://cdn.noibu.com/collect-core.js', onSuccess, onFailure);
} else {
  logToConsole('Conductrics: Script load failed due to permissions mismatch.');
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cdn.noibu.com/collect-core.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 11/1/2024, 9:24:37 AM


